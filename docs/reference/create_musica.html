<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Creates a musica object from a variant table — create_musica • musicatk</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Creates a musica object from a variant table — create_musica"><meta property="og:description" content="This function creates a musica object from a variant
table or matrix. The musica class stores variants information,
variant-level annotations, sample-level annotations, and count tables and
is used as input to the mutational signature discovery and prediction
algorithms. The input variant table or matrix must have columns for
chromosome, start position, end position, reference allele,
alternate allele, and sample names. The column names in the variant table
can be mapped using the chromosome_col, start_col,
end_col, ref_col, alt_col, and
sample_col parameters."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">musicatk</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.14.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="https://www.camplab.net/musicatk" class="external-link">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/articles/installation.html">Installation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/articles/tutorial_tcga_cnsl.html">Analysis in the R console</a>
    </li>
    <li>
      <a href="../articles/articles/tutorial_tcga_ui.html">Analysis with the user interface</a>
    </li>
  </ul></li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/campbio/musicatk" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/camplab1" class="external-link">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Creates a musica object from a variant table</h1>
    <small class="dont-index">Source: <a href="https://github.com/campbio/musicatk/blob/HEAD/R/load_data.R" class="external-link"><code>R/load_data.R</code></a></small>
    <div class="hidden name"><code>create_musica.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function creates a <a href="musica-class.html">musica</a> object from a variant
table or matrix. The <a href="musica-class.html">musica</a> class stores variants information,
variant-level annotations, sample-level annotations, and count tables and
is used as input to the mutational signature discovery and prediction
algorithms. The input variant table or matrix must have columns for
chromosome, start position, end position, reference allele,
alternate allele, and sample names. The column names in the variant table
can be mapped using the <code>chromosome_col</code>, <code>start_col</code>,
<code>end_col</code>, <code>ref_col</code>, <code>alt_col</code>, and
<code>sample_col parameters</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_musica</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">genome</span>,</span>
<span>  check_ref_chromosomes <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  check_ref_bases <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  chromosome_col <span class="op">=</span> <span class="st">"chr"</span>,</span>
<span>  start_col <span class="op">=</span> <span class="st">"start"</span>,</span>
<span>  end_col <span class="op">=</span> <span class="st">"end"</span>,</span>
<span>  ref_col <span class="op">=</span> <span class="st">"ref"</span>,</span>
<span>  alt_col <span class="op">=</span> <span class="st">"alt"</span>,</span>
<span>  sample_col <span class="op">=</span> <span class="st">"sample"</span>,</span>
<span>  extra_fields <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  standardize_indels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  convert_dbs <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>A data.table, matrix, or data.frame that contains columns with
the variant information.</p></dd>


<dt>genome</dt>
<dd><p>A BSgenome object indicating which genome
reference the variants and their coordinates were derived from.</p></dd>


<dt>check_ref_chromosomes</dt>
<dd><p>Whether to peform a check to ensure that
the chromosomes in the <code>variant</code> object match the reference
chromosomes in the <code>genome</code> object. If there are mismatches, this
may cause errors in downstream generation of count tables. If mismatches
occur, an attept to be automatically fix these with the
<code><a href="https://rdrr.io/pkg/GenomeInfoDb/man/seqlevelsStyle.html" class="external-link">seqlevelsStyle</a></code> function will be made.
Default <code>TRUE</code>.</p></dd>


<dt>check_ref_bases</dt>
<dd><p>Whether to check if the reference bases in the
<code>variant</code> object match the reference bases in the <code>genome</code>
object. Default <code>TRUE</code>.</p></dd>


<dt>chromosome_col</dt>
<dd><p>The name of the column that contains the chromosome
reference for each variant. Default <code>"chr"</code>.</p></dd>


<dt>start_col</dt>
<dd><p>The name of the column that contains the start
position for each variant. Default <code>"start"</code>.</p></dd>


<dt>end_col</dt>
<dd><p>The name of the column that contains the end
position for each variant. Default <code>"end"</code>.</p></dd>


<dt>ref_col</dt>
<dd><p>The name of the column that contains the reference
base(s) for each variant. Default <code>"ref"</code>.</p></dd>


<dt>alt_col</dt>
<dd><p>The name of the column that contains the alternative
base(s) for each variant. Default <code>"alt"</code>.</p></dd>


<dt>sample_col</dt>
<dd><p>The name of the column that contains the sample
id for each variant. Default <code>"sample"</code>.</p></dd>


<dt>extra_fields</dt>
<dd><p>Which additional fields to extract and include in
the musica object. Default <code>NULL</code>.</p></dd>


<dt>standardize_indels</dt>
<dd><p>Flag to convert indel style (e.g. `C &gt; CAT` 
becomes `- &gt; AT` and `GCACA &gt; G` becomes `CACA &gt; -`)</p></dd>


<dt>convert_dbs</dt>
<dd><p>Flag to convert adjacent SBS into DBS (original SBS are 
removed)</p></dd>


<dt>verbose</dt>
<dd><p>Whether to print status messages during error checking.
Default <code>TRUE</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Returns a musica object</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">maf_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"public_TCGA.LUSC.maf"</span>,</span></span>
<span class="r-in"><span>package <span class="op">=</span> <span class="st">"musicatk"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">variants</span> <span class="op">&lt;-</span> <span class="fu"><a href="extract_variants_from_maf_file.html">extract_variants_from_maf_file</a></span><span class="op">(</span><span class="va">maf_file</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">g</span> <span class="op">&lt;-</span> <span class="fu"><a href="select_genome.html">select_genome</a></span><span class="op">(</span><span class="st">"38"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">musica</span> <span class="op">&lt;-</span> <span class="fu">create_musica</span><span class="op">(</span>x <span class="op">=</span> <span class="va">variants</span>, genome <span class="op">=</span> <span class="va">g</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Checking that chromosomes in the 'variant' object match chromosomes in the 'genome' object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Checking that the reference bases in the 'variant' object match the reference bases in the 'genome' object.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Standardizing INS/DEL style</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Converting adjacent SBS into DBS</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 4 SBS converted to DBS</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Aaron Chevalier, Joshua D. Campbell.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

